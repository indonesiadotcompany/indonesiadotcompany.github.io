<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
	<meta name="generator" content="Hugo 0.92.2" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Blog Indonesiadot.Com &middot; Web log of Indonesiadot.Com, Linux and updated technology
    
  </title>

  
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/poole.css">
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/syntax.css">
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.indonesiadot.com/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.indonesiadot.com/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.indonesiadot.com/atom.xml">
</head>


  <body class="theme-base-0c">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Blog dari <a href="https://indonesiadot.com" target="_blank">Indonesiadot.Com</a> adalah tempat menuliskan sesuatu mengenai teknologi, oprek, dan mengenai Indonesiadot.Com.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="https://blog.indonesiadot.com/">Home</a>
    
    <a class="sidebar-nav-item" href="https://blog.indonesiadot.com/post">Posts</a>
    <a class="sidebar-nav-item" href="https://blog.indonesiadot.com/tags">Tags</a>

    
    
      
        <a class="sidebar-nav-item " href="https://blog.indonesiadot.com/about/">About</a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a class="sidebar-nav-item " href="https://blog.indonesiadot.com/thanks/">Thanks</a>
      
    

  </nav>

  <div class="sidebar-item">
    <p>&copy; 2024. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://blog.indonesiadot.com/" title="Home">Blog Indonesiadot.Com</a>
            <small>Web log of Indonesiadot.Com, Linux and updated technology</small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="post">
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/07/04/wid-think-about-education-pendidikan/">Wid think about education - pendidikan</a></h1>
        <span class="post-date">Jul 4, 2018</span>
	<!-- raw HTML omitted -->

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/widya/">widya</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/05/30/wordpress-tips-and-trick/">wordpress tips and trick</a></h1>
        <span class="post-date">May 30, 2018</span>
	<p><!-- raw HTML omitted -->themes<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->native themesÂ nativewptheme.net<!-- raw HTML omitted --><a href="https://www.cr">https://www.cr</a>*ckthemes.com/2018/03/27/native-v1-3-4-powerful-startup-development-tool/<!-- raw HTML omitted --><!-- raw HTML omitted --><a href="http://www91.zippyshare.com/v/y7mJuKcb/file.html">http://www91.zippyshare.com/v/y7mJuKcb/file.html</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.google.co.id/search?q=aprimo+null">https://www.google.co.id/search?q=aprimo+null</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.null5.top/aprimo-v1-3-mobile-app-landing-wordpress-theme/">https://www.null5.top/aprimo-v1-3-mobile-app-landing-wordpress-theme/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.google.co.id/search?q=upload+max+size+wordpress+.htaccess">https://www.google.co.id/search?q=upload+max+size+wordpress+.htaccess</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="http://www.wpbeginner.com/wp-tutorials/how-to-increase-the-maximum-file-upload-size-in-wordpress/">http://www.wpbeginner.com/wp-tutorials/how-to-increase-the-maximum-file-upload-size-in-wordpress/</a><!-- raw HTML omitted --><!-- raw HTML omitted -->cat &gt;&gt; .htaccess<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->php_value upload_max_filesize 64M<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->php_value post_max_size 64M<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->php_value max_execution_time 300<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->php_value max_input_time 300<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.google.co.id/search?q=display+error+htaccess">https://www.google.co.id/search?q=display+error+htaccess</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://stackoverflow.com/questions/6127980/enabling-error-display-in-php-via-htaccess-only">https://stackoverflow.com/questions/6127980/enabling-error-display-in-php-via-htaccess-only</a><!-- raw HTML omitted --><!-- raw HTML omitted -->cat &gt;&gt; .htaccess<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->php_flag display_startup_errors off<!-- raw HTML omitted -->php_flag display_errors off<!-- raw HTML omitted -->php_flag html_errors off<!-- raw HTML omitted -->php_flag  log_errors off<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Thanks</p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/wordpress/">wordpress</a>, <a href="https://blog.indonesiadot.com/tags/web/">web</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/05/26/freebsd-mailserver/">freebsd mailserver</a></h1>
        <span class="post-date">May 26, 2018</span>
	<p><a href="https://www.sophimail.com/configure-freebsd-email-server-using-postfix-dovecot-mysql-spamassassin/">https://www.sophimail.com/configure-freebsd-email-server-using-postfix-dovecot-mysql-spamassassin/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://github.com/sophimail/webadmin">https://github.com/sophimail/webadmin</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://github.com/sophimail/webadmin/blob/master/INSTALLATION.md">https://github.com/sophimail/webadmin/blob/master/INSTALLATION.md</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.cryptomonkeys.com/2016/08/building-a-mailserver/">https://www.cryptomonkeys.com/2016/08/building-a-mailserver/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://docs.iredmail.org/install.iredmail.on.freebsd.html">https://docs.iredmail.org/install.iredmail.on.freebsd.html</a><!-- raw HTML omitted --><!-- raw HTML omitted -->note:<!-- raw HTML omitted -->iredadmin is easiest installation with all mail server package, but for administration using iredadmin free has limited function, best for personal / one domain use<!-- raw HTML omitted -->ispconfig nice to try :)</p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/mail/">mail</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/05/26/belajar-privacy-basic-security-on-the-internet/">belajar privacy (basic security on the internet)</a></h1>
        <span class="post-date">May 26, 2018</span>
	<p>Alamat / url untuk belajar privacy di internet<!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.privacytools.io/">https://www.privacytools.io/</a><!-- raw HTML omitted --><!-- raw HTML omitted -->dapat dari:<!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.cryptomonkeys.com/">https://www.cryptomonkeys.com/</a><!-- raw HTML omitted --><!-- raw HTML omitted -->alamat lain yang menarik:<!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.infosecindustry.com/">https://www.infosecindustry.com/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="http://www.freebsd.org/">http://www.freebsd.org/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/security/">security</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/05/26/belajar-ispconfig-webhosting-control-panel/">belajar ispconfig webhosting control panel</a></h1>
        <span class="post-date">May 26, 2018</span>
	<p>Berikut adalah alamat / url tutorial untuk belajar instalasi / setup ispconfig webhosting control panel :<!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.howtoforge.com/tutorial/perfect-server-ubuntu-with-nginx-and-ispconfig-3/3/">https://www.howtoforge.com/tutorial/perfect-server-ubuntu-with-nginx-and-ispconfig-3/3/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.howtoforge.com/tutorial/securing-ispconfig-3-with-a-free-lets-encrypt-ssl-certificate/">https://www.howtoforge.com/tutorial/securing-ispconfig-3-with-a-free-lets-encrypt-ssl-certificate/</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://github.com/SpeedWP/ispconfig-nginx-pagespeed/wiki/ISP-Config">https://github.com/SpeedWP/ispconfig-nginx-pagespeed/wiki/ISP-Config</a><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://www.howtoforge.com/community/threads/install-monit.64712/">https://www.howtoforge.com/community/threads/install-monit.64712/</a><!-- raw HTML omitted --><!-- raw HTML omitted --></p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/server/">server</a>, <a href="https://blog.indonesiadot.com/tags/web/">web</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/05/26/perubahan-era-webhosting/">perubahan era webhosting</a></h1>
        <span class="post-date">May 26, 2018</span>
	<p>Sebelum tahun 2000 website merupakan barang berharga di indonesia, meski sudah marak di luar negeri, dengan berbagai konten dinamis seperti portal berita dan konten statik menggunakan html dan animasi css, js dan flash yang baru muncul pada tahun 1996.<!-- raw HTML omitted --><!-- raw HTML omitted -->Tahun 2000 era webhosting bermunculan di indonesia, baru beberapa pemain besar webhosting yang bermain, website sudah makin marak.<!-- raw HTML omitted --><!-- raw HTML omitted -->Tahun 2005 era webhosting dengan pemain baru bermunculan, di awali dengan hadirnya CMS seperti joomla dan CMS lain yang memudahkan pembuatan website instant, era website dinamis.<!-- raw HTML omitted --><!-- raw HTML omitted -->Tahun 2010 era webhosting marak lagi dan makin murah meriah, sehingga hampir tiap individu / personal ingin memiliki website sendiri, era ini ditandai juga dengan maraknya software pengelola hosting yang gratis seperti lxadmin, webmin, ispconfig dan beberapa lainnya.<!-- raw HTML omitted --><!-- raw HTML omitted -->Tahun 2013 ke atas era blogger / wordpress sudah mulai menggantikan webhosting karena dengan blog bisa menempelkan domain, jadi cukup sewa domain sudah bisa mempunyai website sangat instan.<!-- raw HTML omitted --><!-- raw HTML omitted -->Tambahan:<!-- raw HTML omitted --><!-- raw HTML omitted -->Software webhosting gratis yang saat ini masih tergolong stabil:<!-- raw HTML omitted --><!-- raw HTML omitted -->1. ispconfig<!-- raw HTML omitted -->2. webmin<!-- raw HTML omitted -->3. kloxo (update dari lxadmin)<!-- raw HTML omitted --><!-- raw HTML omitted --></p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/web/">web</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/04/04/all-about-icinga-monitoring/">All about icinga monitoring</a></h1>
        <span class="post-date">Apr 4, 2018</span>
	<h2 id="icinga2-installation-on-ubuntu-16">icinga2 installation on ubuntu 16</h2>
<ul>
<li><a href="https://www.icinga.com/docs/icinga2/latest/doc/02-getting-started/">https://www.icinga.com/docs/icinga2/latest/doc/02-getting-started/</a></li>
<li><a href="https://www.icinga.com/docs/icingaweb2/latest/doc/02-Installation/">https://www.icinga.com/docs/icingaweb2/latest/doc/02-Installation/</a></li>
<li><a href="https://www.rosehosting.com/blog/install-icinga-2-on-ubuntu-16-04/">https://www.rosehosting.com/blog/install-icinga-2-on-ubuntu-16-04/</a></li>
<li><a href="https://blog.x-toolz.com/installing-icinga2-icingaweb2-on-ubuntu-16-04-3-lts/">https://blog.x-toolz.com/installing-icinga2-icingaweb2-on-ubuntu-16-04-3-lts/</a></li>
<li><a href="https://github.com/jpfluger/examples/blob/master/ubuntu-14.04/icinga2-server.md">https://github.com/jpfluger/examples/blob/master/ubuntu-14.04/icinga2-server.md</a></li>
<li><a href="https://www.google.co.id/search?q=icinga2+change+ssh+port">https://www.google.co.id/search?q=icinga2+change+ssh+port</a></li>
<li><a href="https://monitoring-portal.org/woltlab/index.php?thread/32752-ssh-monitoring-different-port/">https://monitoring-portal.org/woltlab/index.php?thread/32752-ssh-monitoring-different-port/</a></li>
</ul>
<p>added a line into the servicedefinition:
Code
apply Service &ldquo;ssh&rdquo; {
import &ldquo;generic-service&rdquo;
check_command = &ldquo;ssh&rdquo;
vars.port = host.vars.ssh_port
assign where host.address &amp;&amp; host.vars.os == &ldquo;Linux&rdquo;
ignore where host.name == &ldquo;localhost&rdquo; /* for upgrade safety */
}</p>
<p>and in the hostdef:
Code
object Host &ldquo;webarchiv&rdquo; {
vars.ssh_port = 1023
}</p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/monitoring/">monitoring</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/03/27/air-alkali/">Air alkali</a></h1>
        <span class="post-date">Mar 27, 2018</span>
	<!-- raw HTML omitted -->

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/alam/">alam</a>, <a href="https://blog.indonesiadot.com/tags/diy/">diy</a>, <a href="https://blog.indonesiadot.com/tags/air/">air</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2018/03/19/xenserver-provisioning-with-ansible/">Xenserver provisioning with ansible</a></h1>
        <span class="post-date">Mar 19, 2018</span>
	<p><a href="https://medium.com/@jrisch/using-ansible-to-automate-vm-creation-on-xenserver-d092aa484a06">https://medium.com/@jrisch/using-ansible-to-automate-vm-creation-on-xenserver-d092aa484a06</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Using Ansible to automate VM creation on XenServer<!-- raw HTML omitted --><!-- raw HTML omitted -->Iâve been using Xenserver at <!-- raw HTML omitted -->Fab:IT<!-- raw HTML omitted --> for the last 8 or 9 years, and during that time, Iâve automated the  installation of, mostly Debian and Ubuntu, VMâs in several ways. The  most successful way, was a shell script with certain sane defaults built  in, combined with preseed files for the various Debian and Ubuntu  versions, and small shell scripts for handling the installation of  Xentools in the VM, after the initial reboot. I used that script through  <!-- raw HTML omitted -->Rundeck<!-- raw HTML omitted --> to build a selfservice portal for my collegues. It got used, but was not as useful and practical as I wanted it to be.<!-- raw HTML omitted --><!-- raw HTML omitted -->A little while ago I decided to convert that shell script to an <!-- raw HTML omitted -->Ansible<!-- raw HTML omitted --> playbook. By doing so, I gain a bit more flexibility, and makes it  easier for me to maintain. This article is a run-through of the  playbook. The playbook and support files can be found <!-- raw HTML omitted -->here<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Note<!-- raw HTML omitted -->:  a webserver serving the needed preseed files, is a requirement. You can  find an example of a preseed file I use to install Debian Stretch <!-- raw HTML omitted -->here<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->As the first thing in the playbook, I load in some variables from a file:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->xenserver-play-header.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&mdash;<!-- raw HTML omitted -->- name: Deploy new Debian or Ubuntu VPS<!-- raw HTML omitted -->  hosts: xenservers<!-- raw HTML omitted -->  remote_user: root<!-- raw HTML omitted -->  vars_files:<!-- raw HTML omitted -->    - xenserver_vars.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->xenserver_vars.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&mdash;<!-- raw HTML omitted -->hostname: vm01<!-- raw HTML omitted -->domainname: example.com<!-- raw HTML omitted -->gateway: 192.168.1.1<!-- raw HTML omitted -->dnsservers: &ldquo;8.8.8.8&rdquo;<!-- raw HTML omitted -->network_name: &ldquo;Network 0&rdquo;<!-- raw HTML omitted -->sr_name: &ldquo;Local storage&rdquo;<!-- raw HTML omitted -->vm_template: &ldquo;Debian Stretch 9.0 (64-bit)&quot;<!-- raw HTML omitted -->vm_name: &ldquo;vm01&rdquo;<!-- raw HTML omitted -->ipaddress: 192.168.1.10<!-- raw HTML omitted -->vps_type: VM-S<!-- raw HTML omitted -->runtime_environment: testing<!-- raw HTML omitted -->vcpus: 1<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->vmtypes.csv<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Type,Disk,CPU weight,RAM<!-- raw HTML omitted -->VM-S,26843545600,64,1073741824<!-- raw HTML omitted -->VM-M,53687091200,256,2147483648<!-- raw HTML omitted -->VM-L,107374182400,1024,4294967296<!-- raw HTML omitted -->VM-XL,214748364800,4096,8589934592<!-- raw HTML omitted -->VM-XXL,536870912000,16384,17179869184<!-- raw HTML omitted -->VM-XXXL,1073741824000,65536,34359738368<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->As you can see, Xenserver expects RAM- and disksize in bytesÂ :-( Not that convenient.<!-- raw HTML omitted --><!-- raw HTML omitted -->The code that loads these defaults from the csv file, looks like this:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-load-vm-flavours.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Load VPS specs for chosen type<!-- raw HTML omitted -->      set_fact:<!-- raw HTML omitted -->        memory: &ldquo;{{ lookup(&lsquo;csvfile&rsquo;, &lsquo;{{ vps_type }} file=vmtypes.csv delimiter=, col=3&rsquo;) }}&quot;<!-- raw HTML omitted -->        cpu_weight: &ldquo;{{ lookup(&lsquo;csvfile&rsquo;, &lsquo;{{ vps_type }} file=vmtypes.csv delimiter=, col=2&rsquo;) }}&quot;<!-- raw HTML omitted -->        disksize: &ldquo;{{ lookup(&lsquo;csvfile&rsquo;, &lsquo;{{ vps_type }} file=vmtypes.csv delimiter=, col=1&rsquo;) }}&quot;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->So here  I set the memory, disksize and CPU weight based on the values from the  CSV file. But itâs still possible to override these values later, if  needed.<!-- raw HTML omitted --><!-- raw HTML omitted -->Next step is to get the UUIDâs of some of the resources we want to use when creating the new VM:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-get-uuids.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get UUID of share SR<!-- raw HTML omitted -->      command: xe sr-list name-label=&quot;{{ sr_name }}&rdquo; &ndash;minimal<!-- raw HTML omitted -->      register: sruuid<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get the UUID of the VM template<!-- raw HTML omitted -->      command: xe template-list name-label=&quot;{{ vm_template }}&rdquo; &ndash;minimal<!-- raw HTML omitted -->      register: templateuuid<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get the UUID of the network<!-- raw HTML omitted -->      command: xe network-list name-label=&quot;{{ network_name }}&rdquo; &ndash;minimal<!-- raw HTML omitted -->      register: networkuuid<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Next step is to create the VM:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-deploy-new-vm.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Deploy new VM<!-- raw HTML omitted -->      command: xe vm-install template={{ templateuuid.stdout }} new-name-label=&quot;{{ vm_name }} - {{ ipaddress }} - {{ vps_type }}&rdquo; sr-uuid={{ sruuid.stdout }}<!-- raw HTML omitted -->      register: vmuuid<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->And set some of the properties:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-vm-properties.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set vcpu priority<!-- raw HTML omitted -->      command: xe vm-param-set VCPUs-params:weight={{ cpu_weight }} uuid={{ vmuuid.stdout }}<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set vcpu count max<!-- raw HTML omitted -->      command: xe vm-param-set VCPUs-max={{ vcpu_count }} uuid={{ vmuuid.stdout }}<!-- raw HTML omitted -->      when: vcpu_count &gt;= &ldquo;2&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set vcpu count at startup<!-- raw HTML omitted -->      command: xe vm-param-set VCPUs-at-startup={{ vcpu_count }} uuid={{ vmuuid.stdout }}<!-- raw HTML omitted -->      when: vcpu_count &gt;= &ldquo;2&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->For the disk, we have to get the UUID first, and then set the disksize:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-set-disksize.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get the UUID of the disk<!-- raw HTML omitted -->      command: xe vm-disk-list vbd-params=device=xvda uuid={{ vmuuid.stdout }} &ndash;minimal<!-- raw HTML omitted -->      register: vdiuuid<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set disk size<!-- raw HTML omitted -->      command: xe vdi-resize disk-size=&quot;{{ disksize }}&quot; uuid={{ vdiuuid.stdout }}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Here we set the memory and attach the VM to the desired network:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-set-mem-and-network.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set memory<!-- raw HTML omitted -->      command: xe vm-memory-limits-set uuid={{ vmuuid.stdout }} dynamic-min=&quot;{{ memory }}&quot; dynamic-max=&quot;{{ memory }}&quot; static-max=&quot;{{ memory }}&quot; static-min=&quot;{{ memory }}&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Attach VM to {{ network_name }}<!-- raw HTML omitted -->      command: xe vif-create vm-uuid={{ vmuuid.stdout }} network-uuid={{ networkuuid.stdout }} mac=random device=0<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Next we set the bootargs, based on the chosen template:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-set-bootargs.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Load bootargs and install repo for Debian install<!-- raw HTML omitted -->      include_vars:<!-- raw HTML omitted -->        file=group_vars/Debian.yml<!-- raw HTML omitted -->      when: &lsquo;&ldquo;Debian&rdquo; in vm_template&rsquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Load bootargs and install repo for Ubuntu install<!-- raw HTML omitted -->      include_vars:<!-- raw HTML omitted -->        file=group_vars/Ubuntu.yml<!-- raw HTML omitted -->      when: &lsquo;&ldquo;Ubuntu&rdquo; in vm_template&rsquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set preseed boot options<!-- raw HTML omitted -->      command: xe vm-param-set uuid={{ vmuuid.stdout }} PV-args=&quot;{{ boot_args }}&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Set install repository<!-- raw HTML omitted -->      command: xe vm-param-set uuid={{ vmuuid.stdout }} other-config:install-repository={{ install_repository }}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->And we need a cdrom drive for installing Xentools:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-create-cdrom.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Create and attach CDROM drive<!-- raw HTML omitted -->      command: xe vbd-create type=CD device=xvdd vm-uuid={{ vmuuid.stdout }} mode=ro<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now we just have to boot the VM and wait for the first reboot, so we can insert the Xentools CD:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-boot-vm.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Boot VM and start preseed installation<!-- raw HTML omitted -->      command: xe vm-start uuid={{ vmuuid.stdout }}<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get the boot time for the VM<!-- raw HTML omitted -->      command: xe vm-param-get param-name=start-time  uuid={{ vmuuid.stdout}}<!-- raw HTML omitted -->      register: boottime<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Watch for the first reboot<!-- raw HTML omitted -->      shell: export starttime={{ boottime.stdout }}; while [[ ${starttime} == {{ boottime.stdout }} ]]; do sleep 15; starttime=<code>xe vm-param-get param-name=start-time uuid={{ vmuuid.stdout }}</code>; done<!-- raw HTML omitted -->      async: 1800<!-- raw HTML omitted -->      poll: 15<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->When the VM is installed, and has rebooted for the first time, Ansible <!-- raw HTML omitted -->will return and continue with inserting the Xentools CD. The name of the<!-- raw HTML omitted --> ISO image has changed from Xenserver 6 to Xenserver 7, so we have to <!-- raw HTML omitted -->check the Xenserver version, to know which name to use:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-insert-xentools-cd.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Insert Xentools CD in CDROM drive<!-- raw HTML omitted -->      command: xe vm-cd-insert cd-name=xs-tools.iso vm={{ vmuuid.stdout }}<!-- raw HTML omitted -->      when: ansible_distribution_major_version|int &lt;= 6<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Insert Xentools CD in CDROM drive<!-- raw HTML omitted -->      command: xe vm-cd-insert cd-name=guest-tools.iso vm={{ vmuuid.stdout }}<!-- raw HTML omitted -->      when: ansible_distribution_major_version|int &gt;= 7<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Get the last boot time for the VM<!-- raw HTML omitted -->      command: xe vm-param-get param-name=start-time  uuid={{ vmuuid.stdout}}<!-- raw HTML omitted -->      register: boottime<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Watch for the last reboot<!-- raw HTML omitted -->      shell: export starttime={{ boottime.stdout }}; while [[ ${starttime} == {{ boottime.stdout }} ]]; do sleep 15; starttime=<code>xe vm-param-get param-name=start-time uuid={{ vmuuid.stdout }}</code>; done<!-- raw HTML omitted -->      async: 1800<!-- raw HTML omitted -->      poll: 15<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now we add the new vm to a dynamic host group, that we can use in the next part of the play:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->task-add-dynamic-host.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Add host to runtime inventory<!-- raw HTML omitted -->      add_host:<!-- raw HTML omitted -->        name=&quot;{{ ipaddress }}&quot;<!-- raw HTML omitted -->        groups=&ldquo;deployed_vms&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Then we connect to the new vm, mount the CD, install xentools and lastly, connect to the Xenserver and eject the CD:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->play-install-xentools.yml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->- name: Install Xentools on deployed vm<!-- raw HTML omitted -->  hosts: deployed_vms<!-- raw HTML omitted --><!-- raw HTML omitted -->  tasks:<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Mount xentools CD<!-- raw HTML omitted -->      command: mount /dev/xvdd /mnt<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Run the xentools installer<!-- raw HTML omitted -->      command: /mnt/Linux/install.sh -n<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Unmount the xentools CD<!-- raw HTML omitted -->      command: umount /mnt<!-- raw HTML omitted --><!-- raw HTML omitted -->- name: Eject xentools CD<!-- raw HTML omitted -->  hosts: xenservers<!-- raw HTML omitted --><!-- raw HTML omitted -->  tasks:<!-- raw HTML omitted --><!-- raw HTML omitted -->    - name: Eject the xentools CD<!-- raw HTML omitted -->      command: xe vm-cd-eject vm={{ vmuuid.stdout }}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->These last steps is encapsulated in separate plays.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="https://medium.com/@jrisch/using-ansible-and-awx-to-deploy-vms-on-xenserver-309798a060b5">https://medium.com/@jrisch/using-ansible-and-awx-to-deploy-vms-on-xenserver-309798a060b5</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Using Ansible and AWX to deploy VMs on Xenserver<!-- raw HTML omitted --><!-- raw HTML omitted -->This article builds upon my previous one, â<!-- raw HTML omitted -->Using Ansible to automate VM creation on XenServer<!-- raw HTML omitted -->.â This time we deploy <!-- raw HTML omitted -->Ansible AWX<!-- raw HTML omitted --> (Open Source version of Ansible Tower) to docker via <!-- raw HTML omitted -->Docker Compose<!-- raw HTML omitted -->, and use the <!-- raw HTML omitted -->playbook<!-- raw HTML omitted --> we created last time to build an âautomation portalâ for deploying new VMâs on Xenserver.<!-- raw HTML omitted --><!-- raw HTML omitted -->We  start by creating a docker-compose.yml file, for running AWX in  containers on a local Docker instance. As this is just a test/POC, we  use local volumes. This docker compose file can easily be changed to be  deployed on <!-- raw HTML omitted -->Rancher<!-- raw HTML omitted --> fx.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Docker Compose file for local AWX installation<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Next, we just start the AWX service stack, with:<!-- raw HTML omitted --><!-- raw HTML omitted -->docker-compose up -d<!-- raw HTML omitted --><!-- raw HTML omitted -->It  takes a while for the AWX stack to start, as it has to download all the  docker images, start the PostgreSQL server, start the containers and  load in the database scheme. Once its finished, you can access the web  interface on <!-- raw HTML omitted -->http://localhost<!-- raw HTML omitted --> and you will be met by a login dialog:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->After youâve logged in the first thing to do is create a new project. Go to <!-- raw HTML omitted -->Projects<!-- raw HTML omitted --> and create a new one. Here, Iâve named it Xenserver VM Deploy, and  chosen the Git SCM type, added the URL of the playbook repo from GitHub,  set some SCM Update Options and a cache timout of 4 hours.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Next up we need a credential for connecting to the Xenservers. Here you have to navigate to <!-- raw HTML omitted -->Credentials<!-- raw HTML omitted --> and create a new one. Choose <!-- raw HTML omitted -->Machine<!-- raw HTML omitted --> as the credential type (SSH key) and press Select.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now  you have to provide the private key, of a keypair that has full access  to your Xenservers. You can choose to have AWX prompt you for the  passphrase for the private key on job launch, or type it in at let AWX  save it in encrypted form in the database. Save the key.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->When itâs saved, you canât see or copy the private key anymore, only replace it.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now  we have to create an inventory of Xenservers to deploy to. As you may  recall, our Github repo actually contains an inventory file that weâll  use, directly from the project. Go to <!-- raw HTML omitted -->Inventories<!-- raw HTML omitted --> and create a new one, give it a name and save it.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Then go to the <!-- raw HTML omitted -->Sources<!-- raw HTML omitted --> tab and press <!-- raw HTML omitted -->Add Source<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Then give Inventory souce a name, choose <!-- raw HTML omitted -->Sourced from a Project<!-- raw HTML omitted -->,  the Project to source from (the project that we created earlier) and  the specific file to use as inventory file (here we use the hosts file).  Then choose <!-- raw HTML omitted -->Update on Project Change<!-- raw HTML omitted --> and press <!-- raw HTML omitted -->Save<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->We now have to create a new Job template. Go to <!-- raw HTML omitted -->Job Templates<!-- raw HTML omitted --> and press <!-- raw HTML omitted -->Add-&gt;New Job Template<!-- raw HTML omitted -->. Give the new job template a name, choose <!-- raw HTML omitted -->Run<!-- raw HTML omitted --> as Job Type, the inventory we created earlier, the project we created  earlier and which playbook to run. Then select the credential weâve  created, set the options you want and press <!-- raw HTML omitted -->Save<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Note<!-- raw HTML omitted -->: I had problems with AWX not recognising that Iâd chosen a credential for the job. To solve this, I checked the <!-- raw HTML omitted -->Prompt on Launch<!-- raw HTML omitted --> checkbox besides the <!-- raw HTML omitted -->Credential<!-- raw HTML omitted --> box. This letâs you choose which credential you want to use, when running the job. More on that later.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->To  ease the deployment process, especially for non-tech savvy people,  weâll create a survey, that asks for input from the user running the  job. Click on <!-- raw HTML omitted -->Add Survey<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted -->We only add the fields that is required for deploying af VM using this playbook. Add a survey prompt for the <!-- raw HTML omitted -->Hostname<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->Domain Name<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->Gateway<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->VM Name<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->IP Address<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->VM Type<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->Storage Repository<!-- raw HTML omitted -->. Adjust the choices to match the different types you have on your serversâââ<!-- raw HTML omitted -->this has to be the exact names of the SRâs<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->DNS Servers<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Add a survey prompt for the <!-- raw HTML omitted -->VM Template<!-- raw HTML omitted -->. Again, these template names <!-- raw HTML omitted -->should match the names of the templates on your servers exactly<!-- raw HTML omitted -->. Press <!-- raw HTML omitted -->Add<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now save the whole survey. Press <!-- raw HTML omitted -->Save<!-- raw HTML omitted --> in the bottom right corner.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Now you can run the job from the <!-- raw HTML omitted -->Portal Mode<!-- raw HTML omitted -->. Just click the <!-- raw HTML omitted -->Rocket<!-- raw HTML omitted --> icon to the right of the Job template name.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Because  of the problem I explained earlier with the credentials, we now have to  choose a credential from a list. Choose one and press <!-- raw HTML omitted -->Next<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Then  we have to choose the Xenserver to deploy to. This list is pulled from  the inventory file (hosts file). Choose a Xenserver and press <!-- raw HTML omitted -->Next<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Weâre  now presented with the survey that weâve created earlier. If youâve  entered sane defaults for everything, you can just press launch, but I  think as a minimum you have to change the IP address for the new VM,  after which you can press <!-- raw HTML omitted -->Launch<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->And now your play should run, and you should end up with a fresh, new VM.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/xenserver/">xenserver</a>, <a href="https://blog.indonesiadot.com/tags/ansible/">ansible</a>
	 <hr/>
    </div>
  
</div>

<div class="pagination">
  
  <a class="pagination-item older" href="https://blog.indonesiadot.com/page/16/">Older</a>
  

  
  <a class="pagination-item newer" href="https://blog.indonesiadot.com/page/14/">Newer</a>
  
</div>

<hr/>


<hr/>
Made with &hearts; using <a href="https://https://gohugo.io">hugo</a> by willing of <a href="https://www.google.com/search?q=asmaul+husna">Al-Khooliq Al-Mushowwir Al-Baari'</a>
<p>&nbsp;</p>

	</div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
  </body>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147159427-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147159427-1');
</script>

</html>

