<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
	<meta name="generator" content="Hugo 0.57.2" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Blog Indonesiadot.Com &middot; Web log of Indonesiadot.Com, Linux and updated technology
    
  </title>

  
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/poole.css">
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/syntax.css">
  <link rel="stylesheet" href="https://blog.indonesiadot.com/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.indonesiadot.com/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.indonesiadot.com/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.indonesiadot.com/atom.xml">
</head>


  <body class="theme-base-0c">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Blog dari <a href="https://indonesiadot.com" target="_blank">Indonesiadot.Com</a> adalah tempat menuliskan sesuatu mengenai teknologi, oprek, dan mengenai Indonesiadot.Com.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="https://blog.indonesiadot.com/">Home</a>
    
    <a class="sidebar-nav-item" href="https://blog.indonesiadot.com/post">Posts</a>
    <a class="sidebar-nav-item" href="https://blog.indonesiadot.com/tags">Tags</a>

    
    
      
        <a class="sidebar-nav-item " href="https://blog.indonesiadot.com/about/">About</a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a class="sidebar-nav-item " href="https://blog.indonesiadot.com/thanks/">Thanks</a>
      
    

  </nav>

  <div class="sidebar-item">
    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://blog.indonesiadot.com/" title="Home">Blog Indonesiadot.Com</a>
            <small>Web log of Indonesiadot.Com, Linux and updated technology</small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="post">
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/06/24/ansible-to-windows-via-winrm/">Ansible to Windows via winrm</a></h1>
        <span class="post-date">Jun 24, 2020</span>
	

<h2 id="prerequisites-on-windows">Prerequisites on windows</h2>

<h3 id="upgrading-powershell-and-net-framework">Upgrading PowerShell and .NET Framework</h3>

<p><a href="https://docs.ansible.com/ansible/latest/user_guide/windows_setup.html">https://docs.ansible.com/ansible/latest/user_guide/windows_setup.html</a></p>

<p>Buka powershell sebagai administrator, lalu copy paste bagian berikut:</p>

<pre><code>$url = &quot;https://raw.githubusercontent.com/jborean93/ansible-windows/master/scripts/Upgrade-PowerShell.ps1&quot;
$file = &quot;$env:temp\Upgrade-PowerShell.ps1&quot;
$username = &quot;Administrator&quot;
$password = &quot;Password&quot;

(New-Object -TypeName System.Net.WebClient).DownloadFile($url, $file)
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Force

# Version can be 3.0, 4.0 or 5.1
&amp;$file -Version 5.1 -Username $username -Password $password -Verbose
</code></pre>

<p>Once completed, you will need to remove auto logon and set the execution policy back to the default of Restricted. You can do this with the following PowerShell commands:</p>

<pre><code># This isn't needed but is a good security practice to complete
Set-ExecutionPolicy -ExecutionPolicy Restricted -Force

$reg_winlogon_path = &quot;HKLM:\Software\Microsoft\Windows NT\CurrentVersion\Winlogon&quot;
Set-ItemProperty -Path $reg_winlogon_path -Name AutoAdminLogon -Value 0
Remove-ItemProperty -Path $reg_winlogon_path -Name DefaultUserName -ErrorAction SilentlyContinue
Remove-ItemProperty -Path $reg_winlogon_path -Name DefaultPassword -ErrorAction SilentlyContinue
</code></pre>

<h3 id="windows-preparation">Windows preparation</h3>

<p><a href="https://medium.com/the-sysadmin/managing-windows-machines-with-ansible-60395445069f">https://medium.com/the-sysadmin/managing-windows-machines-with-ansible-60395445069f</a></p>

<p>Buka cmd (command prompt) sebagai administrator, lalu copy paste bagian berikut:</p>

<pre><code>@powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1'))&quot;
</code></pre>

<h3 id="prerequisites-di-sisi-ansible-engine">Prerequisites di sisi ansible engine</h3>

<p><a href="https://stackoverflow.com/questions/51633907/msg-winrm-or-requests-is-not-installed-no-module-named-xmltodict">https://stackoverflow.com/questions/51633907/msg-winrm-or-requests-is-not-installed-no-module-named-xmltodict</a></p>

<pre><code>pip install --ignore-installed pywinrm
</code></pre>

<h3 id="inventory-ansible">inventory ansible</h3>

<p><a href="https://geekflare.com/connecting-windows-ansible-from-ubuntu/">https://geekflare.com/connecting-windows-ansible-from-ubuntu/</a></p>

<pre><code>[windows]
10.11.8.102 ansible_user=ansible ansible_password=pwdansibl3 ansible_winrm_port=5986 ansible_connection=winrm ansible_winrm_server_cert_validation=ignore
</code></pre>

<h3 id="test-it">test it</h3>

<pre><code>ansible windows -m win_ping
</code></pre>

<h3 id="note">note</h3>

<pre><code>ansible.cfg
[defaults]
inventory = ./inventory
</code></pre>

<h3 id="win-chocolatey-untuk-install-aplikasi">win chocolatey untuk install aplikasi</h3>

<p><a href="https://chocolatey.org/docs/installation">https://chocolatey.org/docs/installation</a></p>

<p>install terlebih dahulu chocolatey di windows dengan command:</p>

<pre><code>@&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot; -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command &quot; [System.Net.ServicePointManager]::SecurityProtocol = 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot; &amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;
</code></pre>

<p>lalu test install beberapa aplikasi dengan ansible ad-hoc command:</p>

<pre><code>ansible windows -m win_chocolatey -a &quot;name=putty state=present&quot;
ansible windows -m win_chocolatey -a &quot;name=git state=present&quot;
ansible windows -m win_chocolatey -a &quot;name=7zip state=present&quot;
</code></pre>

<p>Referensi:</p>

<ul>
<li><a href="https://github.com/jborean93/ansible-windows/tree/master/scripts">https://github.com/jborean93/ansible-windows/tree/master/scripts</a></li>
<li><a href="https://docs.ansible.com/ansible/latest/modules/list_of_windows_modules.html">https://docs.ansible.com/ansible/latest/modules/list_of_windows_modules.html</a></li>
<li><a href="https://docs.ansible.com/ansible/latest/modules/win_chocolatey_module.html#win-chocolatey-module">https://docs.ansible.com/ansible/latest/modules/win_chocolatey_module.html#win-chocolatey-module</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/ansible/">ansible</a>, <a href="https://blog.indonesiadot.com/tags/windows/">windows</a>, <a href="https://blog.indonesiadot.com/tags/winrm/">winrm</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/06/23/2fa-with-google-authenticator/">2FA with Google Authenticator</a></h1>
        <span class="post-date">Jun 23, 2020</span>
	

<h2 id="ubuntu">Ubuntu</h2>

<h3 id="pastikan-terdapat-baris-berikut-di-etc-ssh-sshd-config">Pastikan terdapat baris berikut di /etc/ssh/sshd_config</h3>

<pre><code>ChallengeResponseAuthentication yes
UsePAM yes
</code></pre>

<p>lalu restart service sshd</p>

<h3 id="tambahkan-baris-berikut-di-akhir-etc-pam-d-common-auth">Tambahkan baris berikut di akhir /etc/pam.d/common-auth</h3>

<pre><code>auth required pam_google_authenticator.so nullok
</code></pre>

<h3 id="go-go-gadget">Go go gadget</h3>

<p>install google-authenticator app from android playstore, then add the server to show the code</p>

<p>Referensi:</p>

<ul>
<li><a href="https://www.techradar.com/how-to/how-to-add-two-factor-authentication-to-linux-with-google-authenticator">https://www.techradar.com/how-to/how-to-add-two-factor-authentication-to-linux-with-google-authenticator</a></li>
<li><a href="https://wiki.alpinelinux.org/wiki/Two_Factors_Authentication_With_OpenSSH">https://wiki.alpinelinux.org/wiki/Two_Factors_Authentication_With_OpenSSH</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>, <a href="https://blog.indonesiadot.com/tags/2fa/">2fa</a>, <a href="https://blog.indonesiadot.com/tags/google-authenticator/">google-authenticator</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/06/12/postgresql/">Postgresql</a></h1>
        <span class="post-date">Jun 12, 2020</span>
	

<h2 id="install-pgadmin4-di-ubuntu-18">Install pgadmin4 di ubuntu 18</h2>

<pre><code>apt-get install curl ca-certificates gnupg
curl https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
sh -c 'echo &quot;deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main&quot; &gt; /etc/apt/sources.list.d/pgdg.list'
apt update
apt install pgadmin4
</code></pre>

<h2 id="create-db">create db</h2>

<pre><code>su - postgres
psql
create database dvdrental;
\q
wget https://sp.postgresqltutorial.com/wp-content/uploads/2019/05/dvdrental.zip
unzip dvdrental.zip
pg_restore -d dvdrental dvdrental.tar
psql -d dvdrental
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO pgtower;
\q
psql -U pgtower -d dvdrental
select first_name from customer;
\q
</code></pre>

<h2 id="pg-hba-conf">pg_hba.conf</h2>

<pre><code>cat /var/opt/rh/rh-postgresql10/lib/pgsql/data/pg_hba.conf

# Database administrative login by UNIX sockets
# note: you may wish to restrict this further later
local   all         postgres                                peer

# TYPE  DATABASE    USER        CIDR-ADDRESS          METHOD
local   all         all                               scram-sha-256
host    all         all         127.0.0.1/32 scram-sha-256
host    all         all         ::1/128 scram-sha-256
host    all         all         10.11.8.0/24    md5
</code></pre>

<p>Referensi:</p>

<ul>
<li><a href="https://www.postgresqltutorial.com/postgresql-sample-database/">https://www.postgresqltutorial.com/postgresql-sample-database/</a></li>
<li><a href="https://bobcares.com/blog/permission-denied-for-database-postgres/">https://bobcares.com/blog/permission-denied-for-database-postgres/</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/beginner/">beginner</a>, <a href="https://blog.indonesiadot.com/tags/postgresql/">postgresql</a>, <a href="https://blog.indonesiadot.com/tags/psql/">psql</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/04/04/elk-elasticsearch-logstash-kibana-references/">Elk Elasticsearch Logstash Kibana References</a></h1>
        <span class="post-date">Apr 4, 2020</span>
	<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elk-stack-on-centos-7">https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elk-stack-on-centos-7</a></li>
<li></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/elk/">elk</a>, <a href="https://blog.indonesiadot.com/tags/elasticsearch/">elasticsearch</a>, <a href="https://blog.indonesiadot.com/tags/logstash/">logstash</a>, <a href="https://blog.indonesiadot.com/tags/kibana/">kibana</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/04/03/ansible-ci-cd-cicd/">Ansible CI-CD CICD</a></h1>
        <span class="post-date">Apr 3, 2020</span>
	

<h2 id="jenkins-ansible-tower">Jenkins Ansible Tower</h2>

<p><img src="https://blog.indonesiadot.com/images/2020/continuous-delivery1.png" alt="ansible-cicd" /></p>

<ul>
<li><a href="https://plugins.jenkins.io/ansible-tower/">https://plugins.jenkins.io/ansible-tower/</a></li>
<li><a href="https://www.redhat.com/en/blog/take-ansible-and-jenkins-integration-next-level-cicd-ansible-tower">https://www.redhat.com/en/blog/take-ansible-and-jenkins-integration-next-level-cicd-ansible-tower</a></li>
<li><a href="https://www.redhat.com/en/blog/integrating-ansible-jenkins-cicd-process">https://www.redhat.com/en/blog/integrating-ansible-jenkins-cicd-process</a></li>
<li><a href="https://dzone.com/articles/how-to-setup-continuous-delivery-environment">https://dzone.com/articles/how-to-setup-continuous-delivery-environment</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/ansible/">ansible</a>, <a href="https://blog.indonesiadot.com/tags/cicd/">cicd</a>, <a href="https://blog.indonesiadot.com/tags/jenkins/">jenkins</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/04/03/security-compliance-baseline-benchmark/">Security Compliance Baseline Benchmark</a></h1>
        <span class="post-date">Apr 3, 2020</span>
	

<h2 id="ssg-baseline">ssg baseline</h2>

<ul>
<li><a href="https://static.open-scap.org/">https://static.open-scap.org/</a></li>
<li><a href="https://static.open-scap.org/ssg-guides/ssg-rhel7-guide-index.html">https://static.open-scap.org/ssg-guides/ssg-rhel7-guide-index.html</a></li>
</ul>

<h2 id="cis-baseline">cis baseline</h2>

<ul>
<li><a href="https://www.cisecurity.org/cis-benchmarks/">https://www.cisecurity.org/cis-benchmarks/</a></li>
<li><a href="https://indonesiadot.com">https://indonesiadot.com</a></li>
<li><a href="https://birau.com">https://birau.com</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/security/">security</a>, <a href="https://blog.indonesiadot.com/tags/baseline/">baseline</a>, <a href="https://blog.indonesiadot.com/tags/benchmark/">benchmark</a>, <a href="https://blog.indonesiadot.com/tags/pci-dss/">pci-dss</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/03/27/sentinelone-epp-edr-on-premise/">Sentinelone EPP EDR On-Premise</a></h1>
        <span class="post-date">Mar 27, 2020</span>
	

<h2 id="prerequisites-and-preparation">Prerequisites and preparation</h2>

<h3 id="hardware-requirements-management-versions-grand-canyon-and-later">Hardware Requirements: Management Versions Grand Canyon and later</h3>

<ul>
<li>Agents 10,000 to 20,000</li>
<li>CPU 16 Cores</li>
<li>RAM 32 GB</li>

<li><p>Disk Root: 16 GB, Disk 500 GB XFS</p></li>

<li><p><a href="https://support.sentinelone.com/hc/en-us/articles/360010427613-On-Prem-OVA-Prerequisites-and-Preparation">https://support.sentinelone.com/hc/en-us/articles/360010427613-On-Prem-OVA-Prerequisites-and-Preparation</a></p></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/epp/">epp</a>, <a href="https://blog.indonesiadot.com/tags/edr/">edr</a>, <a href="https://blog.indonesiadot.com/tags/sentinelone/">sentinelone</a>, <a href="https://blog.indonesiadot.com/tags/on-premise/">on-premise</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/03/20/certificate-ssl-key-csr-crt/">Certificate ssl key csr crt</a></h1>
        <span class="post-date">Mar 20, 2020</span>
	

<h2 id="create-csr-ubuntu-18">create csr ubuntu 18</h2>

<pre><code>openssl genrsa –out domain.key 2048
openssl req –new –key domain.key –out domain.csr
#or
#openssl req -new -newkey rsa:2048 -nodes -keyout domain.key -out domain.csr
</code></pre>

<ul>
<li><a href="https://vitux.com/how-to-generate-a-certificate-signing-request-csr-on-ubuntu/">https://vitux.com/how-to-generate-a-certificate-signing-request-csr-on-ubuntu/</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-ubuntu-18-04">https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-ubuntu-18-04</a></li>
</ul>

<h2 id="random-number-generator-rand-load-file-cannot-open-file-crypto-rand-randfile-c-88-filename-root-rnd">random number generator:RAND_load_file:Cannot open file:../crypto/rand/randfile.c:88:Filename=/root/.rnd</h2>

<p>If you have RANDFILE=&hellip; configuration lines in your openssl.cnf than you can safely remove them</p>

<ul>
<li><a href="https://github.com/openssl/openssl/issues/7754">https://github.com/openssl/openssl/issues/7754</a></li>
</ul>

<h2 id="convert-p7b-p7c-pkcs7-to-crt">convert p7b / p7c / pkcs7 to crt</h2>

<h3 id="description">Description</h3>

<p>What are the differences between .p7b, .pfx, .p12, .pem, .der, .crt &amp; .cer Certificates?</p>

<p>With so many servers, some require different formats.</p>

<h2 id="pem-format">PEM Format</h2>

<ul>
<li>It is the most common format used for certificates</li>
<li>Most servers (Ex: Apache) expects the certificates and private key to be in a separate files

<ul>
<li>Usually they are Base64 encoded ASCII files</li>
<li>Extensions used for PEM certificates are .cer, .crt, .pem, .key files</li>
<li>Apache and similar server uses PEM format certificates</li>
</ul></li>
</ul>

<h2 id="der-format">DER Format</h2>

<ul>
<li>The DER format is the binary form of the certificate</li>
<li>All types of certificates &amp; private keys can be encoded in DER format</li>
<li>DER formatted certificates do not contain the &ldquo;BEGIN CERTIFICATE/END CERTIFICATE&rdquo; statements</li>
<li>DER formatted certificates most often use the ‘.cer’ and &lsquo;.der&rsquo; extensions</li>
<li>DER is typically used in Java Platforms</li>
</ul>

<h2 id="p7b-pkcs-7-format">P7B/PKCS#7 Format</h2>

<ul>
<li>The PKCS#7 or P7B format is stored in Base64 ASCII format and has a file extension of .p7b or .p7c</li>
<li>A P7B file only contains certificates and chain certificates (Intermediate CAs), not the private key</li>
<li>The most common platforms that support P7B files are Microsoft Windows and Java Tomcat</li>
</ul>

<h2 id="pfx-p12-pkcs-12-format">PFX/P12/PKCS#12 Format</h2>

<ul>
<li>The PKCS#12 or PFX/P12 format is a binary format for storing the server certificate, intermediate certificates, and the private key in one encryptable file</li>
<li>These files usually have extensions such as .pfx and .p12</li>
<li>They are typically used on Windows machines to import and export certificates and private keys</li>
</ul>

<p>If your server/device requires a different certificate format other than Base64 encoded X.509, a third party tool such as OpenSSL can be used to convert the certificate into the appropriate format.</p>

<pre><code>openssl pkcs7 -print_certs -in old.p7b -out new.crt
#or
openssl pkcs7 -print_certs -inform der -in a.p7c -out out.cer
</code></pre>

<ul>
<li><a href="https://knowledge.digicert.com/generalinformation/INFO4448.html">https://knowledge.digicert.com/generalinformation/INFO4448.html</a></li>
<li><a href="https://www.google.com/search?q=p7b+to+crt+linux">https://www.google.com/search?q=p7b+to+crt+linux</a></li>
<li><a href="https://gist.github.com/jmervine/e4c9af3adb14b78856cc">https://gist.github.com/jmervine/e4c9af3adb14b78856cc</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/certificate/">certificate</a>, <a href="https://blog.indonesiadot.com/tags/ssl/">ssl</a>, <a href="https://blog.indonesiadot.com/tags/csr/">csr</a>, <a href="https://blog.indonesiadot.com/tags/crt/">crt</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>
	 <hr/>
    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.indonesiadot.com/2020/03/18/ansible-tower-for-beginner/">Ansible Tower for beginner</a></h1>
        <span class="post-date">Mar 18, 2020</span>
	

<p>Before going to start the installation steps, we need to know some benefits of Ansible Tower.</p>

<h1 id="why-we-need-ansible-tower-and-it-s-benefits">Why we need Ansible Tower and it’s benefits?</h1>

<ol>
<li><p>Ansible Tower helps you scale IT automation, manage complex deployments and speed productivity.</p></li>

<li><p>Centralize and control your IT infrastructure with a visual dashboard, role-based access control, job scheduling, integrated notifications and graphical inventory management.</p></li>

<li><p>Ansible Tower’s REST API and CLI make it easy to embed Ansible Tower into existing  tools and processes.</p></li>

<li><p>The Ansible Tower dashboard provides a heads-up NOC-style display for everything  going on in your Ansible environment.</p></li>

<li><p>As soon as you log in, you’ll see your host and inventory status, all the recent job activity and a snapshot of recent job runs. Adjust your job status settings to graph data from specific job and time ranges.</p></li>

<li><p>We can get Real-Time Job Status update:</p></li>
</ol>

<p>Within Ansible Tower, playbook runs stream by in real time. As Ansible automates across your infrastructure, you’ll see plays and tasks complete, broken down by each machine, and each success or failure, complete with output. Easily see the status of your automation, and what’s next in the queue.</p>

<p>Other types of jobs, such as source control updates or cloud inventory refreshes, appear in the common job view. Know what Ansible Tower is up to at any time.</p>

<ol>
<li>Multi-Playbook Workflows:</li>
</ol>

<p>Ansible Tower Workflows allow you to easily model complex processes with Ansible Tower’s intuitive workflow editor. Ansible Tower workflows chain any number of playbooks, updates, and other workflows, regardless of whether they use different inventories, run as different users, run at once or utilize different credentials.</p>

<p>You can build a provisioning workflow that provisions machines, applies a base system configuration, and deploys an application, all with different playbooks maintained by different teams. You can build a CI/CD testing workflow that builds an application, deploys it to a test environment, runs tests, and automatically promotes the application based on test results. Set up different playbooks to run in case of success or failure of a prior workflow playbook.</p>

<ol>
<li>Who Ran What Job When:</li>
</ol>

<p>With Ansible Tower, all automation activity is securely logged. Who ran it, how they customized it, what it did, where it happened – all securely stored and viewable later, or exported through Ansible Tower’s API.</p>

<p>Activity streams extend this by showing a complete audit trail of all changes made to Ansible Tower itself – job creation, inventory changes, credential storage, all securely tracked.</p>

<p>All audit and log information can be sent to your external logging and analytics provider to perform analysis of automation and event correlation   across your entire environment.</p>

<ol>
<li><p>Ansible Tower allows us to easily streamline the delivery of applications and services to both OpenStack and Amazon Clouds in a cost effective, simple, and secure manner.</p></li>

<li><p>Scale Capacity With Tower Clusters:</p></li>
</ol>

<p>Connect multiple Ansible Tower nodes into a Ansible Tower cluster. Ansible Tower clusters add redundancy and capacity, allowing you to scale Ansible automation across your enterprise, including with reserved capacity for certain teams and jobs, and remote execution for access across network zones.</p>

<ol>
<li>Integrated Notifications:</li>
</ol>

<p>Stay informed of your automation status via integrated notifications.</p>

<p>Notify a person or team when your job succeeds, or escalate when jobs fail. Send notifications across your entire organization at once, or customize on a per- job basis.</p>

<p>Connect your notifications to Slack, Hipchat, PagerDuty, SMS, email, and more – or post notifications to a custom webhook to trigger other tools in your infrastructure.</p>

<ol>
<li>Schedule Ansible Jobs:</li>
</ol>

<p>Playbook runs, cloud inventory updates, and source control updates can be scheduled inside Ansible Tower – run now, run later, or run forever.</p>

<p>Set up occasional tasks like nightly backups, periodic configuration remediation for compliance, or a full continuous delivery pipeline with just a few clicks.</p>

<ol>
<li>Manage And Track Your Entire Inventory:</li>
</ol>

<p>Ansible Tower helps you manage your entire infrastructure. Easily pull your  inventory from public cloud providers such as Amazon Web Services, Microsoft Azure, and more, or synchronize from your local OpenStack cloud or VMware environment. Connect your inventory directly to your Red Hat Satellite or Red Hat CloudForms environment, or your custom CMDB.</p>

<p>Ansible Tower can keep your cloud inventory in sync, and Ansible Tower’s powerful provisioning callbacks allow nodes to request configuration on demand, enabling autoscaling. You can also see alerts from Red Hat Insights directly from Ansible Tower, and use Insights-provided Playbook Remediation to fix issues in your infrastructure.</p>

<p>Plus, Ansible Tower Smart Inventories allow you to organize and automate hosts across all your providers based on a powerful host fact query engine.</p>

<ol>
<li>Remote Command Execution:</li>
</ol>

<p>Run simple tasks on any host or group of hosts in your inventory with Ansible Tower’s remote command execution. Add users or groups, reset passwords, restart a malfunctioning service or patch a critical security issue, quickly. As always, remote command execution uses Ansible Tower’s role-based access control engine and logs every action.</p>

<ol>
<li>Comprehensive Rest API And Tower CLI Tool:</li>
</ol>

<p>Far from being limited to just the user interface, every feature of Ansible Tower is available via Ansible Tower’s REST API, providing the ideal API for a systems management infrastructure to build against. Call Ansible Tower jobs from your build tools, show Ansible Tower information in your custom dashboards and more. Get API usage information and best practices with built-in documentation.</p>

<h2 id="prerequisites">Prerequisites:</h2>

<p>Ansible Tower server (I’m using a VMware environment, so both my servers are VMs)</p>

<p>1 Core, 1GB RAM Ubuntu 12.04 LTS Server, 64-bit</p>

<p>Active Directory Server (I’m using Windows Server 2012 R2)</p>

<p>2 Cores, 4GB RAM</p>

<p>Officially, Tower supports CentOS 6, RedHat Enterprise Linux 6, Ubuntu Server 12.04 LTS, and Ubuntu Server 14.04 LTS.</p>

<p>Installing Tower requires Internet connectivity, because it downloads from their repo servers.</p>

<p>I have managed to perform an offline installation, but you have to set up some kind of system to mirror their repositories, and change some settings in the Ansible Installer file.</p>

<p>I <em>highly</em> recommend you dedicate a server (vm or otherwise) to Ansible Tower, because the installer will rewrite pg_hba.conf and supervisord.conf to suit its needs.  Everything is easier if you give it it’s own environment to run in.</p>

<p>You <em>might</em> be able to do it in Docker, although I haven’t tried, and I’m willing to bet you’re asking for trouble.</p>

<p>I’m going to assume you already know about installing Windows Server 2012 and building a domain controller. (If there’s significant call for it, I might write a separate blog post about this…)</p>

<h1 id="installation-steps">Installation Steps:</h1>

<h2 id="step-1">Step – 1:</h2>

<p>Download the latest .tar file from ‘<a href="https://releases.ansible.com/ansible-tower/setup/&amp;#8217">https://releases.ansible.com/ansible-tower/setup/&amp;#8217</a>;</p>

<h2 id="step-2">Step – 2:</h2>

<p>Now untar the downloaded .tar file using below command:</p>

<p>[devops@localhost ~]$ tar xvzf ansible-tower-setup-latest.tar.gz</p>

<h2 id="step-3">Step – 3:</h2>

<p>goto “ansible-tower-setup-<VERSION>” directory</p>

<p>[devops@localhost ~]$ cd ansible-tower-setup-3.4.0-2</p>

<h2 id="step-4">Step – 4:</h2>

<p>edit inventory file which is present inside “ansible-tower-setup-3.4.0-2″ directory.</p>

<p>Put the below content to inventory file:</p>

<pre><code># /home/ubuntu/ansible-tower-setup-3.2.5/inventory file content

[tower]
localhost ansible_connection=local

[database]

[all:vars]
admin_password=’admin’

pg_host=”
pg_port=”

pg_database=’awx’
pg_username=’awx’
pg_password=’admin’

rabbitmq_port=5672
rabbitmq_vhost=tower
rabbitmq_username=tower
rabbitmq_password=’admin’
rabbitmq_cookie=cookiemonster

# Needs to be true for fqdns and ip addresses
rabbitmq_use_long_name=false

# Isolated Tower nodes automatically generate an RSA key for authentication;
# To disable this behavior, set this value to false
# isolated_key_generation=true
################################# Up to here ########################
</code></pre>

<h2 id="step-5">Step – 5:</h2>

<p>Now Run the ansible-tower setup by using below command:</p>

<p>[devops@localhost ansible-tower-setup-3.4.0-2]$ sudo ansible-playbook -i inventory install.yml
[INFO]  To Run Above command we should have ansible installed on this server</p>

<p>[INFO]  If ansible is not present then please open the below link and install the ansible:</p>

<p>[INFO]  <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-centos-7">https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-centos-7</a></p>

<p>[INFO] SetUp will take approx 45 mins or more.</p>

<p>Sample Output:</p>

<pre><code>[sudo] password for devops:
[WARNING]: Could not match supplied host pattern, ignoring: instance_group_*
PLAY [tower:database:instance_group_*] ******************************************************************************************************************************

TASK [check_config_static : Ensure expected variables are defined] **************************************************************************************************
skipping: [localhost] =&gt; (item=tower_package_name)
skipping: [localhost] =&gt; (item=tower_package_version)
skipping: [localhost] =&gt; (item=tower_package_release)

TASK [check_config_static : Detect unsupported HA inventory file] ***************************************************************************************************
skipping: [localhost]

TASK [check_config_static : Ensure at least one tower host is defined] **********************************************************************************************
skipping: [localhost]

TASK [check_config_static : Ensure only one database host exists] ***************************************************************************************************
skipping: [localhost]

TASK [check_config_static : Ensure when postgres host is defined that the port is defined] **************************************************************************
skipping: [localhost]

TASK [check_config_static : Ensure that when a database host is specified, that pg_host is defined] *****************************************************************
skipping: [localhost]

TASK [check_config_static : Ensure that when a database host is specified, that pg_port is defined] *****************************************************************
skipping: [localhost]

TASK [check_config_static : HA mode requires an external postgres database with pg_host defined] ********************************************************************
skipping: [localhost]

TASK [check_config_static : HA mode requires an external postgres database with pg_port defined] ********************************************************************
skipping: [localhost]

TASK [config_dynamic : Set database to internal or external] ********************************************************************************************************
ok: [localhost]

TASK [config_dynamic : Database decision] ***************************************************************************************************************************
ok: [localhost] =&gt; {
“config_dynamic_database”: “internal”
}

TASK [config_dynamic : Set postgres host and port to local if not set] **********************************************************************************************
ok: [localhost]

TASK [config_dynamic : Ensure connectivity to hosts and gather facts] ***********************************************************************************************
ok: [localhost]

TASK [config_dynamic : Get effective uid] ***************************************************************************************************************************
changed: [localhost]

TASK [config_dynamic : Ensure user is root] *************************************************************************************************************************
skipping: [localhost]

PLAY [Group nodes by OS distribution] *******************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************
ok: [localhost]

TASK [group hosts by distribution] **********************************************************************************************************************************
ok: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: RedHat-7*

[WARNING]: Could not match supplied host pattern, ignoring: Ubuntu-16.04

[WARNING]: Could not match supplied host pattern, ignoring: OracleLinux-7*
PLAY [Group supported distributions] ********************************************************************************************************************************

TASK [group hosts for supported distributions] **********************************************************************************************************************
ok: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: none

.

.

.

.

TASK [misc : Create the default organization if it is needed.] ******************************************************************************************************
changed: [localhost]

RUNNING HANDLER [supervisor : restart supervisor] *******************************************************************************************************************
changed: [localhost] =&gt; {
“msg”: “Restarting supervisor.”
}

RUNNING HANDLER [supervisor : Stop supervisor.] *********************************************************************************************************************
changed: [localhost]

RUNNING HANDLER [supervisor : Wait for supervisor to stop.] *********************************************************************************************************
ok: [localhost]

RUNNING HANDLER [supervisor : Start supervisor.] ********************************************************************************************************************
changed: [localhost]

RUNNING HANDLER [nginx : restart nginx] *****************************************************************************************************************************
changed: [localhost]

PLAY [Install Tower isolated node(s)] *******************************************************************************************************************************
skipping: no hosts matched

PLAY RECAP **********************************************************************************************************************************************************
localhost : ok=139 changed=65 unreachable=0 failed=0

########### Sample Output Ends Here ############
</code></pre>

<h2 id="step-6-now-open-browser-and-type-below">Step – 6: Now, open browser and type below:</h2>

<p><a href="https://Your-Server-IP-Address">https://Your-Server-IP-Address</a>  and hit enter.</p>

<p>Example:</p>

<p><a href="https://192.168.56.102">https://192.168.56.102</a></p>

<p>1.Browser_Proceed_unsafe.png</p>

<p>Now, Click on –&gt; Advance–&gt;click on–&gt;proceed to <192.168.56.102> –&gt;It will show as below</p>

<p>It will automatically redirect to Ansible Tower page(as shown below)</p>

<p>2.Login_Page_on_browser.png</p>

<p>Now, Put your username and password(which you have provided in “/home/ubuntu/ansible-tower-setup-3.2.5/inventory” file)</p>

<p>And click on “SIGN IN” button.</p>

<p>After logged-in successfully, It will ask for license.Please click on “REQUEST LICENSE”3.Request_license.png</p>

<p>It will take to you on ansible tower license request page.Please select the appropriate options and fill the all mandatory fields and click on “Submit” button as shown below:</p>

<p>4.Redirect_to_get_license_after_filling_proper_details_main.png</p>

<p>After Click on “Submit” button, it will send the license file to your mail within 1 business day. Please check the mail.</p>

<p>After getting the license file, Please open the Ansible tower and do below things which are marked as Orange Square:</p>

<p><img src="https://blog.indonesiadot.com/images/2020/3.1browse_license_file.png" alt="license" /></p>

<p>And click on “Submit” button.</p>

<p>After successful submission, It will show you the Ansible Tower Dashboard as shown below:</p>

<p><img src="https://blog.indonesiadot.com/images/2020/5.After_successful_login_first_page_view.png" alt="login" /></p>

<p>Finally, You have successful Ansible Tower installation on Centos 7 Machine.</p>

<p>In the next blog we will see how to run the first playbook from Ansible Tower.</p>

<p>Referensi:</p>

<ul>
<li><a href="https://mohitepramod.wordpress.com/2019/01/19/ansible-tower-installation/">https://mohitepramod.wordpress.com/2019/01/19/ansible-tower-installation/</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-centos-7">https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-centos-7</a></li>
<li><a href="https://releases.ansible.com/ansible-tower/docs/tower_user_guide-2.1.6.pdf">https://releases.ansible.com/ansible-tower/docs/tower_user_guide-2.1.6.pdf</a></li>
</ul>

	<hr/>
	
	
	 Tags:
	  <a href="https://blog.indonesiadot.com/tags/linux/">linux</a>, <a href="https://blog.indonesiadot.com/tags/ansible/">ansible</a>, <a href="https://blog.indonesiadot.com/tags/ansibletower/">ansibletower</a>, <a href="https://blog.indonesiadot.com/tags/tips/">tips</a>
	 <hr/>
    </div>
  
</div>

<div class="pagination">
  
  <a class="pagination-item older" href="https://blog.indonesiadot.com/page/2/">Older</a>
  

  
  <span class="pagination-item newer">Newer</span>
  
</div>

<hr/>


<hr/>
Made with &hearts; using <a href="https://https://gohugo.io">hugo</a> by willing of <a href="https://www.google.com/search?q=asmaul+husna">Al-Khooliq Al-Mushowwir Al-Baari'</a>
<p>&nbsp;</p>

	</div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
  </body>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147159427-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147159427-1');
</script>

</html>

